/* Welcome to Compass.
 * In this file you should write your main styles. (or centralize your imports)
 * Import this file using the following HTML or equivalent:
 * <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css" /> */

@import "compass/reset";

$font-sans: 'Helvetica Neue', Helvetica, Arial, sans-serif;
$font-serif: Georgia, 'Times New Roman', serif;
$font-mono: 'Lucida Console', Monaco, monospace;
$text-color: #000;
$base-vertical-unit: 6px;
$base-line-multi: 4;
$base-font-size: 16px;
$ms-ratio: 1.414;
$paragraph-indent: true;
$paragraph-justify: true;
$load-typesetted: true;

@import "_typesettings"; // Here is the _typesettings.scss partial

$bg: rgb(255,255,255);
$altbg: rgba(241,241,241,0.5);
$primary: rgb(126, 149, 191);
$open: green;
$closed: red;

* {
    box-sizing: border-box;
}
h3 {
    margin-bottom: emRhythm(2, $ms-down1);
    @include setType(3, $ms-up1);
}
p {
    margin-bottom: emRhythm(2, $ms-down1);
    @include setType(3, $base-em-font-size);
}

body {
    @include debug-vertical-alignment();
    opacity:1;
    transition:opacity 0.3s;
}
#home {
    display:flex;
    width:100vw;
    height:100vh;
    justify-content:space-between;
    align-items:center;
    flex-direction:column;
    transition: opacity 0.3s;
    opacity:1;
    background:  url('/assets/img/bg.jpg') $primary;
    background-size:cover;
    background-blend-mode: screen;
    .logo {
        height:30vh;
        margin:10vh auto;
    }
    span {
        display: flex;
        flex-direction: column;
        height: 50vh;
        justify-content: center;
        p+p {
            margin-top:0;
            text-indent:0;
        }
    }
}
#status-indicator {
    position:fixed;
    top:0;
    left:0;
}
.search-results {
    $max-width:emRhythm(102, $ms-down1);;
    width: 100%;
    display: flex;
    flex-direction: column;
    margin: 0 auto;
    max-width: $max-width;
    opacity:0;
    transition: opacity 0.3s;
    li {
        display: flex;
        flex-direction: column;
        flex-wrap: wrap;
        justify-content: center;
        height: calc(100vw * 0.35);
        max-height:$max-width / 3;
        position:relative;
        margin-bottom: emRhythm(3, $ms-down1);
        background-color: $bg;
        top:emRhythm(3, $ms-down1);
        opacity:0;
        $elements: 20;
        @for $i from 0 to $elements {
          &:nth-child(#{$i}) {
            transition: opacity 0.3s ease-in ($i * 0.3s), top 0.3s ease-in (($i * 0.3s) + 0.1);
          }
        }
        &:after {
            position:absolute;
            top:0;
            right:0;
            content: '';
            background-color: $primary;
            color: $bg;
            padding:emRhythm(2, $base-em-font-size);
        }
        &.open {
            background-color: $bg;
            &:after {
                background-color: $open;
                content: 'Open';
            }
        }
        &.closed {
            background-color: $altbg;
            &:after {
                background-color: $closed;
                content: 'Closed';
            }
        }
        img {
            width: 35%;
            max-width: $max-width / 3;
            height: calc(100vw * 0.35);
            max-height: $max-width / 3;
            overflow: hidden;
        }
        & > h3, & > p, & > a {
            width: 65%;
            max-width:($max-width / 3) * 2;
            padding:0 emRhythm(3, $base-em-font-size);
        }
        & > h3 {
            padding:0 emRhythm(2, $base-em-font-size);
        }
    }
}

body.resultsLoading {
    #home {
        opacity:0;
    }
}
body.resultsPending {
    #home {
        display:none;
    }
}
body.resultsVisible {
    .search-results {
        opacity:1;
        li {
            top:0;
            opacity:1;
        }
    }
}
